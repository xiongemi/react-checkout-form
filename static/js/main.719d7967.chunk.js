(this["webpackJsonpreact-checkout-form"]=this["webpackJsonpreact-checkout-form"]||[]).push([[0],{179:function(e,t,r){},296:function(e,t,r){"use strict";r.r(t);var i,n=r(0),a=r.n(n),c=r(13),o=r.n(c),s=(r(179),r(343)),d=r(344),l=r(49),u=r(46),j=r(15),m=r(336),b=r(346),h=r(299),v=r(338),p=r(349),x=r(55),O=r(350),g=r(337),f=r(348);!function(e){e.Delivery="/delivery",e.Payment="/payment",e.Confirmation="/confirmation"}(i||(i={}));var y,k=r(2),C=function(){var e=Object(p.a)().t,t=Object(j.i)().path,r=Object(n.useState)(0),a=Object(x.a)(r,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){t.includes(i.Delivery)?o(0):t.includes(i.Payment)?o(1):o(2)}),[t]),Object(k.jsxs)(O.a,{alternativeLabel:!0,activeStep:c,children:[Object(k.jsx)(g.a,{children:Object(k.jsx)(f.a,{children:e("checkout.delivery")})},i.Delivery),Object(k.jsx)(g.a,{children:Object(k.jsx)(f.a,{children:e("checkout.payment")})},i.Payment),Object(k.jsx)(g.a,{children:Object(k.jsx)(f.a,{children:e("checkout.confirmation")})},i.Confirmation)]})},F=r(81),N=function(e){return e.checkout},P={getCheckoutState:N,getDeliveryForm:Object(F.a)(N,(function(e){return null===e||void 0===e?void 0:e.deliveryForm})),getPaymentForm:Object(F.a)(N,(function(e){return null===e||void 0===e?void 0:e.paymentForm}))},M=function(e){var t=e.address;return Object(k.jsxs)(k.Fragment,{children:[t.firstName," ",t.lastName," ",Object(k.jsx)("br",{}),t.addressLine1," ",Object(k.jsx)("br",{}),t.addressLine2&&Object(k.jsxs)(k.Fragment,{children:[t.addressLine2," ",Object(k.jsx)("br",{})]}),t.city,", ",t.provinceState,", ",t.country," ",t.zipPostalCode]})},L=Object(l.b)((function(e){return{deliveryForm:P.getDeliveryForm(e),paymentForm:P.getPaymentForm(e)}}))((function(e){var t=e.deliveryForm,r=e.paymentForm,i=Object(p.a)().t;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(h.a,{variant:"h3",gutterBottom:!0,children:i("checkout.delivery")}),Object(k.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:i("checkout.shippingAddress")}),Object(k.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:Object(k.jsx)(M,{address:t.shippingAddress})}),Object(k.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:i("checkout.shippingMethod.title")}),Object(k.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:i("checkout.shippingMethod."+t.shippingMethod)}),Object(k.jsx)(v.a,{}),Object(k.jsx)(h.a,{variant:"h3",gutterBottom:!0,children:i("checkout.payment")}),Object(k.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:i("checkout.billingAddress")}),r.sameAsShipping&&i("checkout.sameAsShipping"),!r.sameAsShipping&&Object(k.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:Object(k.jsx)(M,{address:r.billingAddress})})]})})),D=r(302),S=r(342),w=r(156),A=r(94),q=r.n(A),T=r(93),z=r.n(T),B=r(10);!function(e){e.Checkout="/checkout"}(y||(y={}));var W,I,E=r(341),$=r(23),J=function(e){var t=e.formName,r=void 0===t?"address":t,i=e.errors,n=e.touched,a=Object(p.a)().t;return Object(k.jsxs)(E.a,{container:!0,spacing:2,children:[Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.firstName"),name:"".concat(r,".firstName"),variant:"outlined",error:(null===n||void 0===n?void 0:n.firstName)&&!!(null===i||void 0===i?void 0:i.firstName),helperText:(null===n||void 0===n?void 0:n.firstName)&&(null===i||void 0===i?void 0:i.firstName),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.lastName"),name:"".concat(r,".lastName"),variant:"outlined",error:(null===n||void 0===n?void 0:n.lastName)&&!!(null===i||void 0===i?void 0:i.lastName),helperText:(null===n||void 0===n?void 0:n.lastName)&&(null===i||void 0===i?void 0:i.lastName),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.addressLine1"),name:"".concat(r,".addressLine1"),variant:"outlined",error:(null===n||void 0===n?void 0:n.addressLine1)&&!!(null===i||void 0===i?void 0:i.addressLine1),helperText:(null===n||void 0===n?void 0:n.addressLine1)&&!!(null===i||void 0===i?void 0:i.addressLine1),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.addressLine2"),name:"".concat(r,".addressLine2"),variant:"outlined",error:(null===n||void 0===n?void 0:n.addressLine2)&&!!(null===i||void 0===i?void 0:i.addressLine2),helperText:(null===n||void 0===n?void 0:n.addressLine2)&&(null===i||void 0===i?void 0:i.addressLine2),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.city"),name:"".concat(r,".city"),variant:"outlined",error:(null===n||void 0===n?void 0:n.city)&&!!(null===i||void 0===i?void 0:i.city),helperText:(null===n||void 0===n?void 0:n.city)&&(null===i||void 0===i?void 0:i.city),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.provinceState"),name:"".concat(r,".provinceState"),variant:"outlined",error:(null===n||void 0===n?void 0:n.provinceState)&&!!(null===i||void 0===i?void 0:i.provinceState),helperText:(null===n||void 0===n?void 0:n.provinceState)&&(null===i||void 0===i?void 0:i.provinceState),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.country"),name:"".concat(r,".country"),variant:"outlined",error:(null===n||void 0===n?void 0:n.country)&&!!(null===i||void 0===i?void 0:i.country),helperText:(null===n||void 0===n?void 0:n.country)&&(null===i||void 0===i?void 0:i.country),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:a("address.zipPostalCode"),name:"".concat(r,".zipPostalCode"),variant:"outlined",error:(null===n||void 0===n?void 0:n.zipPostalCode)&&!!(null===i||void 0===i?void 0:i.zipPostalCode),helperText:(null===n||void 0===n?void 0:n.zipPostalCode)&&(null===i||void 0===i?void 0:i.zipPostalCode),fullWidth:!0})})]})},R=function(e){var t=e.formName,r=void 0===t?"signup":t,i=e.errors,n=e.touched,a=e.values,c=Object(p.a)().t;return Object(k.jsxs)(E.a,{container:!0,spacing:2,children:[Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.a,type:"checkbox",name:"".concat(r,".guestCheckout"),Label:{label:c("signup.guestCheckout")}})}),Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.c,label:c("signup.email"),name:"".concat(r,".email"),variant:"outlined",error:(null===n||void 0===n?void 0:n.email)&&!!(null===i||void 0===i?void 0:i.email),helperText:(null===n||void 0===n?void 0:n.email)&&(null===i||void 0===i?void 0:i.email),type:"email",fullWidth:!0})}),!(null===a||void 0===a?void 0:a.guestCheckout)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:c("signup.password"),name:"".concat(r,".password"),variant:"outlined",error:(null===n||void 0===n?void 0:n.password)&&!!(null===i||void 0===i?void 0:i.password),helperText:(null===n||void 0===n?void 0:n.password)&&(null===i||void 0===i?void 0:i.password),type:"password",fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.c,label:c("signup.confirmPassword"),name:"".concat(r,".confirmPassword"),variant:"outlined",error:(null===n||void 0===n?void 0:n.confirmPassword)&&!!(null===i||void 0===i?void 0:i.confirmPassword),helperText:(null===n||void 0===n?void 0:n.confirmPassword)&&(null===i||void 0===i?void 0:i.confirmPassword),type:"password",fullWidth:!0})})]})]})},V=r(340),Z=r(347);(I=W||(W={})).free="free",I.express="express",I.nextDay="nextDay";var G=function(e){var t=e.formName,r=void 0===t?"shippingMethod":t,i=Object(p.a)().t;return Object(k.jsxs)(B.a,{component:$.b,name:r,children:[Object(k.jsx)(V.a,{value:W.free,control:Object(k.jsx)(Z.a,{}),label:i("checkout.shippingMethod.free")}),Object(k.jsx)(V.a,{value:W.express,control:Object(k.jsx)(Z.a,{}),label:i("checkout.shippingMethod.express")}),Object(k.jsx)(V.a,{value:W.nextDay,control:Object(k.jsx)(Z.a,{}),label:i("checkout.shippingMethod.nextDay")})]})},H=r(9),K=function(e){return Object(H.c)().shape({firstName:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.firstName")})).max(30,e("errorMessages.tooLong",{max:30})),lastName:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.lastName")})).max(30,e("errorMessages.tooLong",{max:30})),addressLine1:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.addressLine1")})).max(200,e("errorMessages.tooLong",{max:200})),addressLine2:Object(H.e)().notRequired(),city:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.addressLine2")})).max(30,e("errorMessages.tooLong",{max:30})),provinceState:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.provinceState")})).max(30,e("errorMessages.tooLong",{max:30})),country:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.country")})).max(30,e("errorMessages.tooLong",{max:30})),zipPostalCode:Object(H.e)().required(e("errorMessages.required",{fieldName:e("address.zipPostalCode")})).min(5,e("errorMessages.tooShort",{min:5})).max(7,e("errorMessages.tooLong",{max:7}))})},Q=function(e){return Object(H.c)().shape({guestCheckout:Object(H.a)(),email:Object(H.e)().email(e("errorMessages.email")).required(e("errorMessages.required",{fieldName:e("signup.email")})),password:Object(H.e)().when("guestCheckout",{is:!1,then:function(t){return t.required(e("errorMessages.required",{fieldName:e("signup.password")})).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,e("errorMessages.password"))}}),confirmPassword:Object(H.e)().when("guestCheckout",{is:!1,then:function(t){return t.required(e("errorMessages.required",{fieldName:e("signup.confirmPassword")})).equals([Object(H.d)("password")],e("errorMessages.confirmPassword"))}})})},U=function(e){return Object(H.c)().shape({shippingAddress:K(e),shippingMethod:Object(H.b)().oneOf(Object.values(W)),signup:Q(e)})},X=r(58),Y={firstName:"",lastName:"",addressLine1:"",addressLine2:"",city:"",provinceState:"",country:"",zipPostalCode:""},_={deliveryForm:{shippingAddress:Y,shippingMethod:W.free,signup:{guestCheckout:!1,email:"",password:"",confirmPassword:""}},paymentForm:{sameAsShipping:!1,billingAddress:Y,creditCard:{cardNumber:"",expiryDate:"",securityCode:""}}},ee=Object(X.b)({name:"checkout",initialState:_,reducers:{submitDeliveryForm:function(e,t){e.deliveryForm=t.payload},clearDeliveryForm:function(e){e.deliveryForm=_.deliveryForm},submitPaymentForm:function(e,t){e.paymentForm=t.payload},clearPaymentForm:function(e){e.paymentForm=_.paymentForm}}}),te=Object(w.a)(D.a)((function(e){return{display:"block",marginTop:e.theme.spacing(2)}})),re=Object(l.b)((function(e){return{deliveryForm:P.getDeliveryForm(e)}}),(function(e){return{submitDeliveryForm:function(t){e(ee.actions.submitDeliveryForm(t))},clearDeliveryForm:function(){e(ee.actions.clearDeliveryForm())}}}))((function(e){var t=e.deliveryForm,r=e.submitDeliveryForm,n=e.clearDeliveryForm,a=Object(p.a)().t,c=Object(j.g)();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(B.c,{enableReinitialize:!0,validationSchema:U(a),initialValues:t,onSubmit:function(e){r(e),c.push(y.Checkout+i.Payment)},children:function(e){var t=e.errors,r=e.touched,i=e.values;return Object(k.jsxs)(B.b,{children:[Object(k.jsx)(te,{children:Object(k.jsx)(S.a,{type:"reset",variant:"contained",endIcon:Object(k.jsx)(z.a,{}),size:"large",onClick:n,children:a("checkout.clear")})}),Object(k.jsxs)(te,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:a("checkout.shippingAddress")}),Object(k.jsx)(J,{formName:"shippingAddress",errors:t.shippingAddress,touched:r.shippingAddress})]}),Object(k.jsxs)(te,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:a("checkout.shippingMethod.title")}),Object(k.jsx)(G,{})]}),Object(k.jsxs)(te,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:a("checkout.customerInfo")}),Object(k.jsx)(R,{formName:"signup",errors:t.signup,touched:r.signup,values:i.signup})]}),Object(k.jsx)(b.a,{textAlign:"right",mt:2,children:Object(k.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(k.jsx)(q.a,{}),size:"large",children:a("checkout.continue")})})]})}})]})})),ie=r(151),ne=r.n(ie),ae=r(339),ce=r(95),oe=r.n(ce),se=function(e){var t=e.formName,r=void 0===t?"creditCard":t,i=e.errors,n=e.touched,a=e.values,c=e.handleChange,o=Object(p.a)().t;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(E.a,{container:!0,spacing:2,children:[Object(k.jsx)(E.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)(oe.a,{mask:"9999-9999-9999-9999",maskPlaceholder:"####-####-####-####",name:"".concat(r,".cardNumber"),value:a.cardNumber,onChange:c,children:Object(k.jsx)(ae.a,{label:o("creditCard.cardNumber"),variant:"outlined",error:(null===n||void 0===n?void 0:n.cardNumber)&&!!(null===i||void 0===i?void 0:i.cardNumber),helperText:(null===n||void 0===n?void 0:n.cardNumber)&&(null===i||void 0===i?void 0:i.cardNumber),fullWidth:!0})})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(oe.a,{mask:"99/9999",maskPlaceholder:"mm/yyyy",name:"".concat(r,".expiryDate"),value:a.expiryDate,onChange:c,children:Object(k.jsx)(ae.a,{label:o("creditCard.expiryDate"),variant:"outlined",error:(null===n||void 0===n?void 0:n.expiryDate)&&!!(null===i||void 0===i?void 0:i.expiryDate),helperText:(null===n||void 0===n?void 0:n.expiryDate)&&(null===i||void 0===i?void 0:i.expiryDate),fullWidth:!0})})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(oe.a,{mask:"999",name:"".concat(r,".securityCode"),value:a.securityCode,onChange:c,children:Object(k.jsx)(ae.a,{label:o("creditCard.securityCode"),variant:"outlined",error:(null===n||void 0===n?void 0:n.securityCode)&&!!(null===i||void 0===i?void 0:i.securityCode),helperText:(null===n||void 0===n?void 0:n.securityCode)&&(null===i||void 0===i?void 0:i.securityCode),fullWidth:!0})})})]})})},de=function(e){return Object(H.c)().shape({cardNumber:Object(H.e)().required(e("errorMessages.required",{fieldName:e("creditCard.cardNumber")})).matches(/[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}/,e("errorMessages.invalidFormat")),expiryDate:Object(H.e)().required(e("errorMessages.required",{fieldName:e("creditCard.expiryDate")})).matches(/(0[1-9]|1[0-2])\/[0-9]{2}/,e("errorMessages.invalidFormat")),securityCode:Object(H.e)().required(e("errorMessages.required",{fieldName:e("creditCard.securityCode")})).matches(/[0-9]{3}/,e("errorMessages.invalidFormat"))})},le=function(e){return Object(H.c)().shape({sameAsShipping:Object(H.a)(),billingAddress:Object(H.c)().when("sameAsShipping",{is:function(e){return!e},then:K(e)}),creditCard:de(e)})},ue=Object(w.a)(D.a)((function(e){return{display:"block",marginTop:e.theme.spacing(2)}})),je=Object(l.b)((function(e){return{paymentForm:P.getPaymentForm(e)}}),(function(e){return{submitPaymentForm:function(t){e(ee.actions.submitPaymentForm(t))},clearPaymentForm:function(){e(ee.actions.clearPaymentForm())}}}))((function(e){var t=e.paymentForm,r=e.submitPaymentForm,n=e.clearPaymentForm,a=Object(p.a)().t,c=Object(j.g)(),o=function(){c.push(y.Checkout+i.Delivery)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(B.c,{validationSchema:le(a),initialValues:t,onSubmit:function(e){r(e),c.push(y.Checkout+i.Confirmation)},children:function(e){var t=e.errors,r=e.touched,i=e.values,c=e.handleChange;e.setFieldTouched;return Object(k.jsxs)(B.b,{children:[Object(k.jsx)(ue,{children:Object(k.jsx)(S.a,{type:"reset",variant:"contained",endIcon:Object(k.jsx)(z.a,{}),size:"large",onClick:n,children:a("checkout.clear")})}),Object(k.jsxs)(ue,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:a("checkout.billingAddress")}),Object(k.jsx)(B.a,{component:$.a,type:"checkbox",name:"sameAsShipping",Label:{label:a("checkout.sameAsShipping")}}),!i.sameAsShipping&&Object(k.jsx)(J,{formName:"billingAddress",errors:t.billingAddress,touched:r.billingAddress})]}),Object(k.jsxs)(ue,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:a("checkout.creditCard")}),Object(k.jsx)(se,{formName:"creditCard",errors:t.creditCard,touched:r.creditCard,values:i.creditCard,handleChange:c})]}),Object(k.jsxs)(b.a,{textAlign:"right",display:"flex",justifyContent:"space-between",mt:2,children:[Object(k.jsx)(S.a,{type:"button",variant:"contained",color:"secondary",endIcon:Object(k.jsx)(ne.a,{}),size:"large",onClick:o,children:a("checkout.previous")}),Object(k.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(k.jsx)(q.a,{}),size:"large",children:a("checkout.continue")})]})]})}})]})}));function me(){var e=Object(j.i)().path;return Object(k.jsx)(u.a,{basename:"/react-checkout-form",children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(j.b,{path:e+i.Delivery,children:Object(k.jsx)(re,{})}),Object(k.jsx)(j.b,{path:e+i.Payment,children:Object(k.jsx)(je,{})}),Object(k.jsx)(j.b,{path:e+i.Confirmation,children:Object(k.jsx)(L,{})}),Object(k.jsx)(j.b,{exact:!0,path:e,children:Object(k.jsx)(j.a,{to:e+i.Delivery})})]})})}var be=function(){var e=Object(j.h)();return Object(n.useEffect)((function(){console.log("checkout route has been changed")}),[e.pathname]),Object(k.jsx)(m.a,{children:Object(k.jsx)(b.a,{p:3,children:Object(k.jsx)(me,{})})})};function he(){return Object(k.jsx)(u.a,{basename:"/react-checkout-form",children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(j.b,{path:y.Checkout,children:Object(k.jsx)(be,{})}),Object(k.jsx)(j.b,{exact:!0,path:"/",children:Object(k.jsx)(j.a,{to:y.Checkout})})]})})}var ve=r(72),pe=r(152),xe=r(153),Oe=r(71);r(155);var ge,fe,ye,ke=r(36),Ce=Object(ke.b)({checkout:ee.reducer}),Fe=Object(X.a)({reducer:Ce,middleware:[],devTools:false}),Ne="en-GB";ge="/react-checkout-form/i18n/{{lng}}.json",fe=Ne,ve.a.use(pe.a).use(Oe.e).use(xe.a).init({backend:{loadPath:ge},fallbackLng:fe,load:"currentOnly",debug:!1}),ye=Ne,ve.a.changeLanguage(ye);var Pe=function(){return Object(k.jsx)(s.a,{maxWidth:"lg",children:Object(k.jsx)(n.Suspense,{fallback:Object(k.jsx)(d.a,{}),children:Object(k.jsx)(l.a,{store:Fe,children:Object(k.jsx)(he,{})})})})},Me=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,352)).then((function(t){var r=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),i(e),n(e),a(e),c(e)}))};o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Pe,{})}),document.getElementById("root")),Me()}},[[296,1,2]]]);
//# sourceMappingURL=main.719d7967.chunk.js.map