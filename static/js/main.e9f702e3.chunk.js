(this["webpackJsonpreact-checkout-form"]=this["webpackJsonpreact-checkout-form"]||[]).push([[0],{197:function(e,t,r){},313:function(e,t,r){"use strict";r.r(t);var i,a=r(0),n=r.n(a),o=r(35),c=r.n(o),s=(r(197),r(373)),d=r(374),l=r(55),u=r(50),j=r(21),m=r(369),b=r(372),h=r(366),v=r(367),p=r(364),x=r(13),O=r(360),g=r(365),f=r(358);!function(e){e.Delivery="/delivery",e.Payment="/payment",e.Confirmation="/confirmation"}(i||(i={}));var y,k=r(1),C=function(){var e=Object(p.a)().t,t=Object(j.i)().path,r=Object(a.useState)(0),n=Object(x.a)(r,2),o=n[0],c=n[1];return Object(a.useEffect)((function(){t.includes(i.Delivery)?c(0):t.includes(i.Payment)?c(1):c(2)}),[t]),Object(k.jsxs)(O.a,{alternativeLabel:!0,activeStep:o,children:[Object(k.jsx)(g.a,{children:Object(k.jsx)(f.a,{children:e("checkout.delivery")})},i.Delivery),Object(k.jsx)(g.a,{children:Object(k.jsx)(f.a,{children:e("checkout.payment")})},i.Payment),Object(k.jsx)(g.a,{children:Object(k.jsx)(f.a,{children:e("checkout.confirmation")})},i.Confirmation)]})},F=r(92),N=function(e){return e.checkout},P={getCheckoutState:N,getDeliveryForm:Object(F.a)(N,(function(e){return null===e||void 0===e?void 0:e.deliveryForm})),getPaymentForm:Object(F.a)(N,(function(e){return null===e||void 0===e?void 0:e.paymentForm}))},M=function(e){var t=e.address;return Object(k.jsxs)(k.Fragment,{children:[t.firstName," ",t.lastName," ",Object(k.jsx)("br",{}),t.addressLine1," ",Object(k.jsx)("br",{}),t.addressLine2&&Object(k.jsxs)(k.Fragment,{children:[t.addressLine2," ",Object(k.jsx)("br",{})]}),t.city,", ",t.provinceState,", ",t.country," ",t.zipPostalCode]})},L=Object(l.b)((function(e){return{deliveryForm:P.getDeliveryForm(e),paymentForm:P.getPaymentForm(e)}}))((function(e){var t=e.deliveryForm,r=e.paymentForm,i=Object(p.a)().t;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(h.a,{variant:"h3",gutterBottom:!0,children:i("checkout.delivery")}),Object(k.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:i("checkout.shippingAddress")}),Object(k.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:Object(k.jsx)(M,{address:t.shippingAddress})}),Object(k.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:i("checkout.shippingMethod.title")}),Object(k.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:i("checkout.shippingMethod."+t.shippingMethod)}),Object(k.jsx)(v.a,{}),Object(k.jsx)(h.a,{variant:"h3",gutterBottom:!0,children:i("checkout.payment")}),Object(k.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:i("checkout.billingAddress")}),r.sameAsShipping&&i("checkout.sameAsShipping"),!r.sameAsShipping&&Object(k.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:Object(k.jsx)(M,{address:r.billingAddress})})]})})),D=r(104),S=r.n(D),w=r(103),A=r.n(w),q=r(368),T=r(371),z=r(4),B=r(18);!function(e){e.Checkout="/checkout"}(y||(y={}));var W,I,E=r(363),$=r(354),J=function(e){var t=e.formName,r=void 0===t?"address":t,i=e.errors,a=e.touched,n=Object(p.a)().t;return Object(k.jsxs)(E.a,{container:!0,spacing:2,children:[Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.firstName"),name:"".concat(r,".firstName"),variant:"outlined",error:(null===a||void 0===a?void 0:a.firstName)&&!!(null===i||void 0===i?void 0:i.firstName),helperText:(null===a||void 0===a?void 0:a.firstName)&&(null===i||void 0===i?void 0:i.firstName),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.lastName"),name:"".concat(r,".lastName"),variant:"outlined",error:(null===a||void 0===a?void 0:a.lastName)&&!!(null===i||void 0===i?void 0:i.lastName),helperText:(null===a||void 0===a?void 0:a.lastName)&&(null===i||void 0===i?void 0:i.lastName),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.addressLine1"),name:"".concat(r,".addressLine1"),variant:"outlined",error:(null===a||void 0===a?void 0:a.addressLine1)&&!!(null===i||void 0===i?void 0:i.addressLine1),helperText:(null===a||void 0===a?void 0:a.addressLine1)&&!!(null===i||void 0===i?void 0:i.addressLine1),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.addressLine2"),name:"".concat(r,".addressLine2"),variant:"outlined",error:(null===a||void 0===a?void 0:a.addressLine2)&&!!(null===i||void 0===i?void 0:i.addressLine2),helperText:(null===a||void 0===a?void 0:a.addressLine2)&&(null===i||void 0===i?void 0:i.addressLine2),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.city"),name:"".concat(r,".city"),variant:"outlined",error:(null===a||void 0===a?void 0:a.city)&&!!(null===i||void 0===i?void 0:i.city),helperText:(null===a||void 0===a?void 0:a.city)&&(null===i||void 0===i?void 0:i.city),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.provinceState"),name:"".concat(r,".provinceState"),variant:"outlined",error:(null===a||void 0===a?void 0:a.provinceState)&&!!(null===i||void 0===i?void 0:i.provinceState),helperText:(null===a||void 0===a?void 0:a.provinceState)&&(null===i||void 0===i?void 0:i.provinceState),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.country"),name:"".concat(r,".country"),variant:"outlined",error:(null===a||void 0===a?void 0:a.country)&&!!(null===i||void 0===i?void 0:i.country),helperText:(null===a||void 0===a?void 0:a.country)&&(null===i||void 0===i?void 0:i.country),fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:n("address.zipPostalCode"),name:"".concat(r,".zipPostalCode"),variant:"outlined",error:(null===a||void 0===a?void 0:a.zipPostalCode)&&!!(null===i||void 0===i?void 0:i.zipPostalCode),helperText:(null===a||void 0===a?void 0:a.zipPostalCode)&&(null===i||void 0===i?void 0:i.zipPostalCode),fullWidth:!0})})]})},R=r(357),V=function(e){var t=e.formName,r=void 0===t?"signup":t,i=e.errors,a=e.touched,n=e.values,o=Object(p.a)().t;return Object(k.jsxs)(E.a,{container:!0,spacing:2,children:[Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:R.a,type:"checkbox",name:"".concat(r,".guestCheckout"),Label:{label:o("signup.guestCheckout")}})}),Object(k.jsx)(E.a,{item:!0,xs:12,children:Object(k.jsx)(B.a,{component:$.a,label:o("signup.email"),name:"".concat(r,".email"),variant:"outlined",error:(null===a||void 0===a?void 0:a.email)&&!!(null===i||void 0===i?void 0:i.email),helperText:(null===a||void 0===a?void 0:a.email)&&(null===i||void 0===i?void 0:i.email),type:"email",fullWidth:!0})}),!(null===n||void 0===n?void 0:n.guestCheckout)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:o("signup.password"),name:"".concat(r,".password"),variant:"outlined",error:(null===a||void 0===a?void 0:a.password)&&!!(null===i||void 0===i?void 0:i.password),helperText:(null===a||void 0===a?void 0:a.password)&&(null===i||void 0===i?void 0:i.password),type:"password",fullWidth:!0})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(B.a,{component:$.a,label:o("signup.confirmPassword"),name:"".concat(r,".confirmPassword"),variant:"outlined",error:(null===a||void 0===a?void 0:a.confirmPassword)&&!!(null===i||void 0===i?void 0:i.confirmPassword),helperText:(null===a||void 0===a?void 0:a.confirmPassword)&&(null===i||void 0===i?void 0:i.confirmPassword),type:"password",fullWidth:!0})})]})]})},Z=r(370),G=r(359),H=r(362);(I=W||(W={})).free="free",I.express="express",I.nextDay="nextDay";var K=function(e){var t=e.formName,r=void 0===t?"shippingMethod":t,i=Object(p.a)().t;return Object(k.jsxs)(B.a,{component:H.a,name:r,children:[Object(k.jsx)(Z.a,{value:W.free,control:Object(k.jsx)(G.a,{}),label:i("checkout.shippingMethod.free")}),Object(k.jsx)(Z.a,{value:W.express,control:Object(k.jsx)(G.a,{}),label:i("checkout.shippingMethod.express")}),Object(k.jsx)(Z.a,{value:W.nextDay,control:Object(k.jsx)(G.a,{}),label:i("checkout.shippingMethod.nextDay")})]})},Q=r(15),U=function(e){return Object(Q.c)().shape({firstName:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.firstName")})).max(30,e("errorMessages.tooLong",{max:30})),lastName:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.lastName")})).max(30,e("errorMessages.tooLong",{max:30})),addressLine1:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.addressLine1")})).max(200,e("errorMessages.tooLong",{max:200})),addressLine2:Object(Q.e)().notRequired(),city:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.addressLine2")})).max(30,e("errorMessages.tooLong",{max:30})),provinceState:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.provinceState")})).max(30,e("errorMessages.tooLong",{max:30})),country:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.country")})).max(30,e("errorMessages.tooLong",{max:30})),zipPostalCode:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("address.zipPostalCode")})).min(5,e("errorMessages.tooShort",{min:5})).max(7,e("errorMessages.tooLong",{max:7}))})},X=function(e){return Object(Q.c)().shape({guestCheckout:Object(Q.a)(),email:Object(Q.e)().email(e("errorMessages.email")).required(e("errorMessages.required",{fieldName:e("signup.email")})),password:Object(Q.e)().when("guestCheckout",{is:!1,then:function(t){return t.required(e("errorMessages.required",{fieldName:e("signup.password")})).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,e("errorMessages.password"))}}),confirmPassword:Object(Q.e)().when("guestCheckout",{is:!1,then:function(t){return t.required(e("errorMessages.required",{fieldName:e("signup.confirmPassword")})).equals([Object(Q.d)("password")],e("errorMessages.confirmPassword"))}})})},Y=function(e){return Object(Q.c)().shape({shippingAddress:U(e),shippingMethod:Object(Q.b)().oneOf(Object.values(W)),signup:X(e)})},_=r(64),ee={firstName:"",lastName:"",addressLine1:"",addressLine2:"",city:"",provinceState:"",country:"",zipPostalCode:""},te={deliveryForm:{shippingAddress:ee,shippingMethod:W.free,signup:{guestCheckout:!1,email:"",password:"",confirmPassword:""}},paymentForm:{sameAsShipping:!1,billingAddress:ee,creditCard:{cardNumber:"",expiryDate:"",securityCode:""}}},re=Object(_.b)({name:"checkout",initialState:te,reducers:{submitDeliveryForm:function(e,t){e.deliveryForm=t.payload},clearDeliveryForm:function(e){e.deliveryForm=te.deliveryForm},submitPaymentForm:function(e,t){e.paymentForm=t.payload},clearPaymentForm:function(e){e.paymentForm=te.paymentForm}}}),ie=Object(z.a)(q.a)((function(e){return{display:"block",marginTop:e.theme.spacing(2)}})),ae=Object(l.b)((function(e){return{deliveryForm:P.getDeliveryForm(e)}}),(function(e){return{submitDeliveryForm:function(t){e(re.actions.submitDeliveryForm(t))},clearDeliveryForm:function(){e(re.actions.clearDeliveryForm())}}}))((function(e){var t=e.deliveryForm,r=e.submitDeliveryForm,a=e.clearDeliveryForm,n=Object(p.a)().t,o=Object(j.g)();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(B.c,{enableReinitialize:!0,validationSchema:Y(n),initialValues:t,onSubmit:function(e){r(e),o.push(y.Checkout+i.Payment)},children:function(e){var t=e.errors,r=e.touched,i=e.values;return Object(k.jsxs)(B.b,{children:[Object(k.jsx)(ie,{children:Object(k.jsx)(T.a,{type:"reset",variant:"contained",endIcon:Object(k.jsx)(A.a,{}),size:"large",onClick:a,children:n("checkout.clear")})}),Object(k.jsxs)(ie,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:n("checkout.shippingAddress")}),Object(k.jsx)(J,{formName:"shippingAddress",errors:t.shippingAddress,touched:r.shippingAddress})]}),Object(k.jsxs)(ie,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:n("checkout.shippingMethod.title")}),Object(k.jsx)(K,{})]}),Object(k.jsxs)(ie,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:n("checkout.customerInfo")}),Object(k.jsx)(V,{formName:"signup",errors:t.signup,touched:r.signup,values:i.signup})]}),Object(k.jsx)(b.a,{textAlign:"right",mt:2,children:Object(k.jsx)(T.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(k.jsx)(S.a,{}),size:"large",children:n("checkout.continue")})})]})}})]})})),ne=r(171),oe=r.n(ne),ce=r(321),se=r(108),de=r.n(se),le=function(e){var t=e.formName,r=void 0===t?"creditCard":t,i=e.errors,a=e.touched,n=e.values,o=e.handleChange,c=Object(p.a)().t;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(E.a,{container:!0,spacing:2,children:[Object(k.jsx)(E.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)(de.a,{mask:"9999-9999-9999-9999",maskPlaceholder:"####-####-####-####",name:"".concat(r,".cardNumber"),value:n.cardNumber,onChange:o,children:Object(k.jsx)(ce.a,{label:c("creditCard.cardNumber"),variant:"outlined",error:(null===a||void 0===a?void 0:a.cardNumber)&&!!(null===i||void 0===i?void 0:i.cardNumber),helperText:(null===a||void 0===a?void 0:a.cardNumber)&&(null===i||void 0===i?void 0:i.cardNumber),fullWidth:!0})})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(de.a,{mask:"99/9999",maskPlaceholder:"mm/yyyy",name:"".concat(r,".expiryDate"),value:n.expiryDate,onChange:o,children:Object(k.jsx)(ce.a,{label:c("creditCard.expiryDate"),variant:"outlined",error:(null===a||void 0===a?void 0:a.expiryDate)&&!!(null===i||void 0===i?void 0:i.expiryDate),helperText:(null===a||void 0===a?void 0:a.expiryDate)&&(null===i||void 0===i?void 0:i.expiryDate),fullWidth:!0})})}),Object(k.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(de.a,{mask:"999",name:"".concat(r,".securityCode"),value:n.securityCode,onChange:o,children:Object(k.jsx)(ce.a,{label:c("creditCard.securityCode"),variant:"outlined",error:(null===a||void 0===a?void 0:a.securityCode)&&!!(null===i||void 0===i?void 0:i.securityCode),helperText:(null===a||void 0===a?void 0:a.securityCode)&&(null===i||void 0===i?void 0:i.securityCode),fullWidth:!0})})})]})})},ue=function(e){return Object(Q.c)().shape({cardNumber:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("creditCard.cardNumber")})).matches(/[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}/,e("errorMessages.invalidFormat")),expiryDate:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("creditCard.expiryDate")})).matches(/(0[1-9]|1[0-2])\/[0-9]{2}/,e("errorMessages.invalidFormat")),securityCode:Object(Q.e)().required(e("errorMessages.required",{fieldName:e("creditCard.securityCode")})).matches(/[0-9]{3}/,e("errorMessages.invalidFormat"))})},je=function(e){return Object(Q.c)().shape({sameAsShipping:Object(Q.a)(),billingAddress:Object(Q.c)().when("sameAsShipping",{is:function(e){return!e},then:U(e)}),creditCard:ue(e)})},me=Object(z.a)(q.a)((function(e){return{display:"block",marginTop:e.theme.spacing(2)}})),be=Object(l.b)((function(e){return{paymentForm:P.getPaymentForm(e)}}),(function(e){return{submitPaymentForm:function(t){e(re.actions.submitPaymentForm(t))},clearPaymentForm:function(){e(re.actions.clearPaymentForm())}}}))((function(e){var t=e.paymentForm,r=e.submitPaymentForm,a=e.clearPaymentForm,n=Object(p.a)().t,o=Object(j.g)(),c=function(){o.push(y.Checkout+i.Delivery)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(B.c,{validationSchema:je(n),initialValues:t,onSubmit:function(e){r(e),o.push(y.Checkout+i.Confirmation)},children:function(e){var t=e.errors,r=e.touched,i=e.values,o=e.handleChange;e.setFieldTouched;return Object(k.jsxs)(B.b,{children:[Object(k.jsx)(me,{children:Object(k.jsx)(T.a,{type:"reset",variant:"contained",endIcon:Object(k.jsx)(A.a,{}),size:"large",onClick:a,children:n("checkout.clear")})}),Object(k.jsxs)(me,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:n("checkout.billingAddress")}),Object(k.jsx)(B.a,{component:R.a,type:"checkbox",name:"sameAsShipping",Label:{label:n("checkout.sameAsShipping")}}),!i.sameAsShipping&&Object(k.jsx)(J,{formName:"billingAddress",errors:t.billingAddress,touched:r.billingAddress})]}),Object(k.jsxs)(me,{children:[Object(k.jsx)(h.a,{variant:"h5",component:"legend",gutterBottom:!0,children:n("checkout.creditCard")}),Object(k.jsx)(le,{formName:"creditCard",errors:t.creditCard,touched:r.creditCard,values:i.creditCard,handleChange:o})]}),Object(k.jsxs)(b.a,{textAlign:"right",display:"flex",justifyContent:"space-between",mt:2,children:[Object(k.jsx)(T.a,{type:"button",variant:"contained",color:"secondary",endIcon:Object(k.jsx)(oe.a,{}),size:"large",onClick:c,children:n("checkout.previous")}),Object(k.jsx)(T.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(k.jsx)(S.a,{}),size:"large",children:n("checkout.continue")})]})]})}})]})}));function he(){var e=Object(j.i)().path;return Object(k.jsx)(u.a,{basename:"/react-checkout-form",children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(j.b,{path:e+i.Delivery,children:Object(k.jsx)(ae,{})}),Object(k.jsx)(j.b,{path:e+i.Payment,children:Object(k.jsx)(be,{})}),Object(k.jsx)(j.b,{path:e+i.Confirmation,children:Object(k.jsx)(L,{})}),Object(k.jsx)(j.b,{exact:!0,path:e,children:Object(k.jsx)(j.a,{to:e+i.Delivery})})]})})}var ve=function(){var e=Object(j.h)();return Object(a.useEffect)((function(){console.log("checkout route has been changed")}),[e.pathname]),Object(k.jsx)(m.a,{children:Object(k.jsx)(b.a,{p:3,children:Object(k.jsx)(he,{})})})};function pe(){return Object(k.jsx)(u.a,{basename:"/react-checkout-form",children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(j.b,{path:y.Checkout,children:Object(k.jsx)(ve,{})}),Object(k.jsx)(j.b,{exact:!0,path:"/",children:Object(k.jsx)(j.a,{to:y.Checkout})})]})})}var xe=r(83),Oe=r(173),ge=r(174),fe=r(82);r(176);var ye,ke,Ce,Fe=r(41),Ne=Object(Fe.b)({checkout:re.reducer}),Pe=Object(_.a)({reducer:Ne,middleware:[],devTools:false}),Me="en-GB";ye="/react-checkout-form/i18n/{{lng}}.json",ke=Me,xe.a.use(Oe.a).use(fe.e).use(ge.a).init({backend:{loadPath:ye},fallbackLng:ke,load:"currentOnly",debug:!1}),Ce=Me,xe.a.changeLanguage(Ce);var Le=function(){return Object(k.jsx)(s.a,{maxWidth:"lg",children:Object(k.jsx)(a.Suspense,{fallback:Object(k.jsx)(d.a,{}),children:Object(k.jsx)(l.a,{store:Pe,children:Object(k.jsx)(pe,{})})})})},De=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,375)).then((function(t){var r=t.getCLS,i=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;r(e),i(e),a(e),n(e),o(e)}))};c.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(Le,{})}),document.getElementById("root")),De()}},[[313,1,2]]]);
//# sourceMappingURL=main.e9f702e3.chunk.js.map